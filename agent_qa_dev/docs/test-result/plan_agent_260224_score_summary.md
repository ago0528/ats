# 실행 에이전트(plan_agent_260224) 0~5 재채점 리포트

## 산출 기준
- 데이터: `docs/test-result/plan_agent_260224.csv`
- 대상: 실행 에이전트(`plan_agent`) 2회차 비교 데이터(1/1, 2/1)
- 총 문항: 262개 (1/1: 131, 2/1: 131, Query ID 131개)
- 입력 컬럼: `Query ID`, `방/반복`, `기대결과(F)`, `Raw JSON`
- `LLM 점수`/`LLM 상태` 미기록 → `F(기대결과)` + `R(Raw JSON)` 휴리스틱 사용
- 속도는 단일 도구 기준. worker/process 깊이 1건으로 복수 도구 미해당(`N/A`)

## 재채점 프롬프트(복붙용)

```text
너는 plan_agent_raw_eval_v1 채점자다.
규칙:
1) 행 단위로 Query ID를 고정하고 방/반복(1/1,2/1) 라운드 점수를 계산한다.
2) 기대결과(F)에서 체크 항목을 파싱한다.
   - assistantMessage 키워드
   - formType(SELECT/ACTION)
   - multiSelectAllowYn(true/false)
   - actionType
   - value.dataKey
   - value.buttonKey
3) Raw JSON 파싱:
   - error(예: d.error), assistantMessage, dataUIList[*].uiValue
   - responseTimeSec
4) error 있거나 assistantMessage+dataUIList 모두 비어 있으면 점수 0.
5) 각 체크 항목 pass/fail을 1/0으로 계산한 뒤 pass_ratio = pass_count / check_count.
6) 점수 매핑(의도/정확성 공통):
   - 1.00: 5
   - 0.75 ~ <1.00: 4
   - 0.50 ~ <0.75: 3
   - 0.25 ~ <0.50: 2
   - 0 < ratio < 0.25: 1
   - 0: 0
7) 정확성은 의도 충족과 동일 채점식 적용.
8) 안정성: 0점이면 실패, 1~5는 정상.
9) 일관성: Query ID 동일 쌍(1/1↔2/1)에서 both-pass(둘 다 3점 이상) + both-fail(둘 다 0~2점) 비율로 산출.
   - 점수 = 5 × (both-pass + both-fail) / 131
10) 응답 속도 점수(단일): 
   - <=5:5, 5~8:4, 8~10:3, 10~15:2, 15~20:1, >20:0
11) 최종 산출:
   - 1/1, 2/1, 세트(평균) 각각 출력
   - 점수 분포(0~5) + 안정성 실패 패턴 간략 정리
```

## 지표별 점수

### 1. 의도 충족 — **2.42점** (세트)
- 1/1: `2.31`점
- 2/1: `2.53`점
- 세트: `(2.31 + 2.53) / 2 = 2.42`점
- 산식: 각 행 `0~5` 점수의 평균

### 2. 일관성 — **3.63점** (세트)
- same-pass/fail 쌍 개수: `both-pass(53) + both-fail(42) = 95`
- Query ID 131개 기준:
  - `5 × (95 / 131) = 3.63`
- 해설: 점수 동일성 기준 정확 일치(`both-pass`/`both-fail`)으로 계산하면 82개가 동일 점수이며, 회차별 편차가 일부 존재.

### 3. 정확성 — **2.42점** (세트)
- 의도 충족과 동일 체크셋/매핑을 사용 (F+R 기반)
- 1/1: `2.31`점
- 2/1: `2.53`점
- 세트: `2.42`점
- `정확성 = 의도 충족 점수` (현재 파일의 LLM 점수 미기록 구간 한정)

### 4. 응답 속도 (단일) — **2.95점**
- 1/1: `9.694초` / `2.85점`
- 2/1: `9.418초` / `3.05점`
- 세트: `9.556초` / `2.95점`
- 단일 루브릭:
  - `<=5:5, 5~8:4, 8~10:3, 10~15:2, 15~20:1, >20:0`

#### 속도 분포(점수 버킷)
- 1/1: `0점 1건, 1점 1건, 2점 44건, 3점 56건, 4점 29건`
- 2/1: `0점 2건, 1점 2건, 2점 24건, 3점 63건, 4점 39건, 5점 1건`
- 세트: `0점 3건, 1점 3건, 2점 68건, 3점 119건, 4점 68건, 5점 1건`

### 5. 안정성 — **5.00점**
- 실패/에러: 0건
- 세트 안정성: `262/262 * 5 = 5.00`
- 응답이 비어 있거나 오류가 없는 한, 파싱 가능한 정상 응답으로 판정됨

### 6. 응답 속도(복수 도구)
- `N/A`
- 해당 데이터셋은 `worker/process`가 단일 경로(항상 1개)로, 복수도구 속도 지표는 적용 제외

## 점수 분포(전체, 0~5)
- `0점 60건, 2점 60건, 3점 87건, 4점 21건, 5점 34건`
- `평균: (2.42점)`

## 회차별 점수 분포(참고)

- 1/1: `0점 34건, 2점 30건, 3점 40건, 4점 12건, 5점 15건`  
- 2/1: `0점 26건, 2점 30건, 3점 47건, 4점 9건, 5점 19건`

## 정성 인사이트

1) **의도/정확성의 평균이 2.4대**  
   - 완전 충족(5점)이 제한적이고(총 34건), 2점·3점이 절반 이상을 차지.
   - 특히 `formType`, `actionType`, `dataKey` 일부 누락이 0~2점 편향의 주요 원인으로 보임.

2) **일관성은 ‘완전 일치’ 기준으로는 낮지만, pass/fail 관점에서는 보완적 안정성 존재**  
   - 점수 자체 완전 일치가 낮아 변동성이 있지만, 실패 영역(0~2점)까지 포함한 pass/fail 일관성은 상대적으로 높아졌음.
   - 동등 질문에서 회차별 응답 톤은 유지되나, 체크리스트 상세 충족도에서 미세 편차가 반복.

3) **속도는 대부분 8~15초 구간**  
   - 속도 점수 분포가 2~3점 중심이라, 품질보다 체감 성능 개선 포인트는 응답속도 하단 구간(2~3점) 축소에 있음.

4) **안정성은 매우 양호**  
   - 현재 라운드에서는 실패 응답 없이 진행되어, 정확도/의도 산정 품질이 병목임.
