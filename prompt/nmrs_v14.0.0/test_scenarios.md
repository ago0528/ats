# ATS Agent 안정성 테스트 시나리오 리스트

이 문서는 ATS(채용 솔루션) Agent의 오케스트레이터 및 시나리오 워커의 정확도와 안정성을 테스트하기 위한 사용자 질의 리스트입니다.

## 테스트 개요

- **목적**: 사용자의 다양한 입력 패턴에 대해 Agent가 의도한 대로 정확하게 시나리오를 식별하고 라우팅하는지 검증
- **대상**:
  - Orchestrator (Agent 라우팅)
  - Scenario Worker (시나리오 식별)
  - Scenario Script Worker (대본 실행 및 슬롯 필링)

---

## 1. 단일 의도 (Single Intent) - 기본 정확도 테스트

각 시나리오별로 사용자가 입력할 수 있는 다양한 표현을 테스트합니다. 키워드 매칭과 의미론적 매칭이 모두 잘 동작하는지 확인합니다.

### 1.1 채용 생성 관련

| 시나리오 ID                                                      | 테스트 질의 (User Query)                           | 핵심 키워드 / 의도          |
| :--------------------------------------------------------------- | :------------------------------------------------- | :-------------------------- |
| **SCHEDULED_RECRUIT_PLAN_CREATE**<br>(공채 생성 - 우선순위 높음) | "이번 하반기 공채 채용 생성하고 싶어"              | 공채, 채용 생성             |
|                                                                  | "새로운 공개 채용 공고 만들래"                     | 공개 채용, 만들기           |
|                                                                  | "신입 사원 정기 채용 시작하려고 해"                | 정기 채용, 시작             |
|                                                                  | "그냥 채용 하나 만들고 싶은데" (모호함)            | 채용 만들기 (Default: 공채) |
|                                                                  | "공고 등록은 어디서 해?"                           | 공고 등록                   |
| **NON_SCHEDULED_RECRUIT_PLAN_CREATE**<br>(수시/상시 생성)        | "경력직 수시 채용 하나 열어줘"                     | 수시 채용                   |
|                                                                  | "개발팀 상시 채용 공고 만들고 싶어"                | 상시 채용, 만들기           |
|                                                                  | "간편하게 바로 채용할 수 있는 거 없어?"            | 간편, 바로 채용             |
|                                                                  | "수상시 채용 생성해줘"                             | 수상시, 생성                |
| **RECRUIT_PLAN_LOAD**<br>(기존 채용 불러오기)                    | "지난번이랑 똑같이 공고 낼래"                      | 똑같이, 지난번              |
|                                                                  | "작년 상반기 공채 그대로 복사해서 쓰고 싶어"       | 복사, 그대로                |
|                                                                  | "기존에 만들었던 채용 불러와줘"                    | 기존, 불러오기              |
|                                                                  | "이전 채용 정보를 가져와서 새로 만들 수 있어?"     | 이전 채용, 가져오기         |
| **TALENT_PERSONA_RECOMMEND**<br>(인재상 기반)                    | "우리 회사 인재상에 맞춰서 채용 추천해줘"          | 인재상, 추천                |
|                                                                  | "어떤 사람 뽑아야 할지 모르겠는데 추천 기능 있어?" | 추천 기능                   |
|                                                                  | "AI가 추천해주는 맞춤 채용으로 만들어볼래"         | AI 추천, 맞춤 채용          |
|                                                                  | "원하는 인재 조건 넣으면 알아서 만들어줘?"         | 인재 조건, 알아서           |

### 1.2 설정 및 수정 관련

| 시나리오 ID                                          | 테스트 질의 (User Query)               | 핵심 키워드 / 의도     |
| :--------------------------------------------------- | :------------------------------------- | :--------------------- |
| **RECRUIT_PLAN_UPDATE**<br>(수정/이어서)             | "아까 만들던 거 수정할래"              | 만들던 거, 수정        |
|                                                      | "설정 중인 채용 이어서 작성하고 싶어"  | 이어서, 작성           |
|                                                      | "임시 저장된 공고 편집할래"            | 임시 저장, 편집        |
| **RECRUIT_PLAN_JOB_DESCRIPTION_SETTING**<br>(공고문) | "채용 공고문 내용을 좀 바꾸고 싶은데"  | 공고문, 바꾸고         |
|                                                      | "모집 요강 설정은 어디서 해?"          | 모집 요강, 설정        |
|                                                      | "JD(Job Description) 작성 도와줘"      | JD, 작성               |
| **RECRUIT_PLAN_RESUME_SETTING**<br>(지원서)          | "지원서 항목을 변경하고 싶어"          | 지원서, 항목, 변경     |
|                                                      | "자기소개서 질문을 새로 설정할래"      | 자기소개서, 질문, 설정 |
|                                                      | "이력서 양식 커스텀 가능해?"           | 이력서, 커스텀         |
| **RECRUIT_PLAN_AUTO_SETTING**<br>(자동 운영)         | "채용 전형 자동으로 넘어가게 설정해줘" | 자동, 설정             |
|                                                      | "오토 스케줄링 기능 쓰고 싶어"         | 오토, 스케줄링         |
|                                                      | "운영 자동화 설정 어디서 해?"          | 운영, 자동화           |

### 1.3 현황 및 기타 설정

| 시나리오 ID                                              | 테스트 질의 (User Query)                  | 핵심 키워드 / 의도    |
| :------------------------------------------------------- | :---------------------------------------- | :-------------------- |
| **RECRUIT_PLAN_CURRENT_STATUS_FIND**<br>(현황 확인)      | "지금 지원자 얼마나 들어왔어?"            | 지금, 지원자, 얼마나  |
|                                                          | "진행 중인 채용 현황 보여줘"              | 진행 중, 현황         |
|                                                          | "채용 대시보드 확인하고 싶어"             | 대시보드              |
| **RECRUIT_PLAN_DUPLICATE_APPLY_CRITERIA**<br>(중복 지원) | "한 사람이 여러 번 지원 못하게 막고 싶어" | 여러 번, 못하게(차단) |
|                                                          | "중복 지원 차단 설정해줘"                 | 중복 지원, 차단       |
|                                                          | "재지원 제한 걸 수 있어?"                 | 재지원, 제한          |
| **RECRUIT_PLAN_RESUME_BLIND_SETTING**<br>(블라인드)      | "평가할 때 지원자 정보 가리고 싶어"       | 가리고, 정보          |
|                                                          | "블라인드 채용 설정은 어떻게 해?"         | 블라인드              |
|                                                          | "면접관한테 학교랑 나이 안 보이게 해줘"   | 안 보이게(블라인드)   |

---

## 2. 복합 의도 (Multi Intent) - 우선순위 및 의도 분리 테스트

사용자가 한 문장에 여러 요청을 담았을 때, 시스템이 가장 중요한 하나의 시나리오를 선택하거나 명확한 가이드를 제공하는지 테스트합니다.

> **현재 정책**: 오케스트레이터/워커는 하나의 명확한 시나리오를 선택하여 수행해야 함.

| 케이스              | 테스트 질의 (User Query)                           | 예상 동작 (Expected)                                                                                     |
| :------------------ | :------------------------------------------------- | :------------------------------------------------------------------------------------------------------- |
| **생성 + 설정**     | "공채 채용 만들고 지원서 항목도 설정할래"          | **공채 생성** 먼저 수행 (생성이 선행되어야 설정 가능)                                                    |
| **현황 + 수정**     | "지금 지원자 몇 명인지 보고 공고 수정 좀 해야겠어" | **현황 확인** 수행 (정보 확인 후 행동하는 것이 자연스러움) 또는 **수정** (액션 우선) -> _정책 정의 필요_ |
| **복사 + 생성**     | "작년 거 불러와서 수시 채용으로 만들고 싶어"       | **불러오기** 수행 (불러오기 프로세스 내에서 형태 변경 가능 여부에 따라 다름, 보통 불러오기가 우선)       |
| **공고문 + 지원서** | "공고문이랑 지원서 질문 좀 바꾸고 싶은데"          | **공고문 설정** 또는 **지원서 설정** 중 하나 선택 (사용자에게 되물어야 할 수도 있음)                     |

---

## 3. 다중 입력 (Multi-turn) - 맥락 유지 테스트

대화의 흐름(Context)을 오케스트레이터와 스크립트 워커가 잘 유지하는지 테스트합니다.

### 3.1 시나리오 진입 -> 상세 수행 흐름

**상황**: 사용자가 "채용 생성"을 요청하고, 시스템이 어떤 채용인지 물어보는 경우

1. **User**: "채용 만들고 싶어"

   - **System**: (공채 생성을 제안하거나, 어떤 채용인지 되물음) "공채 채용을 바로 만들어보시겠어요?"
   - **Expectation**: `SCENARIO_WORKER`가 `SCHEDULED_RECRUIT_PLAN_CREATE` 선택

2. **User**: "아니, 그냥 상시 채용으로 할래"
   - **System**: "그럼 수상시 채용을 만들어드릴까요?"
   - **Expectation**: `SCENARIO_WORKER`가 다시 `NON_SCHEDULED_RECRUIT_PLAN_CREATE`로 재진입 또는 스크립트 내 분기 처리

### 3.2 시나리오 수행 중 -> 대본 진행

**상황**: "기존 채용 불러오기" 시나리오 진행

1. **User**: "저번에 썼던 공고 그대로 쓰고 싶어"

   - **System**: "최근에 만든 채용들을 바탕으로... 참고하고 싶은 채용을 골라주세요! (리스트 제공)"
   - **Expectation**: `SCENARIO_WORKER` -> `RECRUIT_PLAN_LOAD` 선택 -> `SCENARIO_SCRIPT_WORKER`로 제어권 이양

2. **User**: "첫 번째 걸로 해줘" (또는 UI 클릭)
   - **System**: "선택하신 채용을 불러오겠습니다. (링크 제공)"
   - **Expectation**: `SCENARIO_SCRIPT_WORKER`가 대화 맥락(`session_state` 등)을 유지하고 대본의 다음 단계(2->3)를 실행

---

## 4. 문맥 전환 (Context Switching) 및 예외 처리

사용자가 작업 도중 주제를 바꾸거나 모호하게 말할 때의 안정성 테스트입니다.

### 4.1 작업 전환 (Task Switching)

**상황**: 공고문 설정 중에 갑자기 현황을 묻는 경우

1. **User**: "공고문 설정하고 싶어"
   - **System**: "공고문을 설정할 채용을 선택해 주세요." (리스트 노출)
2. **User**: "아 잠깐만, 지금 지원자 몇 명 들어왔는지부터 볼 수 있어?"
   - **System**: (공고문 설정을 중단하고 현황 확인 시나리오로 전환해야 함)
   - **Expectation**: Orchestrator가 새로운 의도(`RECRUIT_PLAN_CURRENT_STATUS_FIND`)를 감지하고 `SCENARIO_WORKER`를 호출하여 새로운 시나리오 시작

### 4.2 부정/취소 (Negation/Cancel)

**상황**: 시나리오 제안 거절

1. **User**: "채용 만들래"
   - **System**: "공채 채용을 만드나요?"
2. **User**: "아니 지금 안 할래"
   - **System**: "알겠습니다. 다른 도와드릴 일이 있나요?"
   - **Expectation**: 대화 종료 또는 초기 상태 복귀 (특정 시나리오 강제 진입 금지)

### 4.3 불완전 정보 (Missing Info)

**상황**: 시나리오 실행에 필요한 정보(ID 등)가 없는 경우

1. **User**: "바로 공고문 수정해줘" (어떤 공고인지 말 안 함)
   - **System**: "수정하려는 채용 공고를 목록에서 선택해주세요."
   - **Expectation**: `RECRUIT_PLAN_JOB_DESCRIPTION_SETTING` 진입 후, 바로 링크를 주는 것이 아니라 리스트(List Table)를 보여주는 단계부터 시작해야 함.
