<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì±„ìš©ì—ì´ì „íŠ¸ - í”Œëœ ëª¨ë“œ í”„ë¡œí† íƒ€ì…</title>
    <link
      href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Pretendard", -apple-system, BlinkMacSystemFont, system-ui,
          sans-serif;
        background-color: #09090b;
        color: #fafafa;
        overflow: hidden;
      }

      /* ì• ë‹ˆë©”ì´ì…˜ */
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      @keyframes bounce {
        0%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-6px);
        }
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes slideInLeft {
        from {
          width: 0;
        }
        to {
          width: 520px;
        }
      }

      /* ìŠ¤í¬ë¡¤ë°” */
      ::-webkit-scrollbar {
        width: 6px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 3px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      /* ë ˆì´ì•„ì›ƒ */
      .app-container {
        display: flex;
        height: 100vh;
        width: 100vw;
        overflow: hidden;
      }

      /* ì‚¬ì´ë“œë°” */
      .sidebar {
        width: 260px;
        background-color: #0f0f12;
        border-right: 1px solid rgba(255, 255, 255, 0.06);
        display: flex;
        flex-direction: column;
        flex-shrink: 0;
      }

      .sidebar-header {
        padding: 20px 24px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      }

      .logo-container {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .logo-icon {
        width: 36px;
        height: 36px;
        border-radius: 10px;
        background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        font-weight: 700;
        color: white;
      }

      .logo-text {
        font-size: 15px;
        font-weight: 600;
      }

      .logo-subtext {
        font-size: 11px;
        color: rgba(255, 255, 255, 0.4);
        margin-top: 2px;
      }

      .sidebar-nav {
        padding: 16px 12px;
        flex: 1;
      }

      .nav-item {
        padding: 10px 12px;
        border-radius: 8px;
        font-size: 13px;
        display: flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
        margin-bottom: 4px;
        color: rgba(255, 255, 255, 0.5);
      }

      .nav-item.active {
        background-color: rgba(59, 130, 246, 0.15);
        color: #93c5fd;
        font-weight: 500;
      }

      .sidebar-footer {
        padding: 16px;
        border-top: 1px solid rgba(255, 255, 255, 0.06);
      }

      .user-profile {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 8px;
      }

      .user-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background-color: #27272a;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
      }

      .user-name {
        font-size: 13px;
        font-weight: 500;
      }

      .user-role {
        font-size: 11px;
        color: rgba(255, 255, 255, 0.4);
      }

      /* ë©”ì¸ ì˜ì—­ */
      .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        min-width: 0;
        position: relative;
      }

      /* íë ˆì´íŒ… ë°°ë„ˆ */
      .curation-banner {
        padding: 12px 24px;
        background: linear-gradient(
          90deg,
          rgba(59, 130, 246, 0.1) 0%,
          rgba(139, 92, 246, 0.1) 100%
        );
        border-bottom: 1px solid rgba(59, 130, 246, 0.2);
        display: none;
        align-items: center;
        justify-content: space-between;
      }

      .curation-banner.active {
        display: flex;
      }

      .banner-left {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .status-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background-color: #22c55e;
        box-shadow: 0 0 8px rgba(34, 197, 94, 0.5);
        animation: pulse 2s infinite;
      }

      .banner-label {
        font-size: 13px;
        color: #93c5fd;
        font-weight: 500;
      }

      .banner-divider {
        font-size: 13px;
        color: rgba(255, 255, 255, 0.3);
      }

      .banner-info {
        font-size: 13px;
        color: rgba(255, 255, 255, 0.6);
      }

      /* ì±„íŒ… ì˜ì—­ */
      .chat-container {
        flex: 1;
        overflow-y: auto;
        padding: 24px;
        padding-bottom: 120px;
      }

      .chat-messages {
        max-width: 720px;
        margin: 0 auto;
      }

      /* ë©”ì‹œì§€ ë²„ë¸” */
      .message {
        margin-bottom: 20px;
        animation: fadeInUp 0.3s ease;
      }

      .message.user {
        display: flex;
        justify-content: flex-end;
      }

      .message.assistant {
        display: flex;
        align-items: flex-start;
        gap: 12px;
      }

      .assistant-avatar {
        width: 32px;
        height: 32px;
        border-radius: 10px;
        background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        flex-shrink: 0;
      }

      .message-content {
        flex: 1;
        max-width: calc(100% - 44px);
      }

      .user-bubble {
        padding: 14px 18px;
        background-color: #3b82f6;
        border-radius: 18px;
        border-bottom-right-radius: 4px;
        font-size: 14px;
        line-height: 1.6;
        color: white;
        max-width: 75%;
      }

      .assistant-bubble {
        padding: 14px 18px;
        background-color: #18181b;
        border-radius: 18px;
        border-top-left-radius: 4px;
        font-size: 14px;
        line-height: 1.7;
        white-space: pre-wrap;
      }

      .plan-mode-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 10px;
        background-color: rgba(34, 197, 94, 0.15);
        border-radius: 4px;
        margin-bottom: 8px;
      }

      .plan-mode-badge span:first-child {
        font-size: 12px;
      }

      .plan-mode-badge span:last-child {
        font-size: 11px;
        color: #4ade80;
        font-weight: 500;
      }

      /* íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° */
      .typing-indicator {
        display: none;
        align-items: center;
        gap: 12px;
        margin-bottom: 20px;
      }

      .typing-indicator.active {
        display: flex;
      }

      .typing-dots {
        padding: 14px 18px;
        background-color: #18181b;
        border-radius: 18px;
        border-top-left-radius: 4px;
        display: flex;
        gap: 4px;
      }

      .typing-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.4);
        animation: bounce 1.4s ease-in-out infinite;
      }

      .typing-dot:nth-child(2) {
        animation-delay: 0.2s;
      }
      .typing-dot:nth-child(3) {
        animation-delay: 0.4s;
      }

      /* ì¸í’‹ ì˜ì—­ */
      .input-area {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 20px 24px;
        background: linear-gradient(to top, #09090b 80%, transparent);
      }

      .input-wrapper {
        max-width: 720px;
        margin: 0 auto;
      }

      .next-message-btn {
        width: 100%;
        padding: 16px 20px;
        border-radius: 16px;
        border: 1px solid rgba(59, 130, 246, 0.3);
        background-color: rgba(59, 130, 246, 0.1);
        color: #93c5fd;
        font-size: 14px;
        text-align: left;
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-family: inherit;
      }

      .next-message-btn:hover {
        background-color: rgba(59, 130, 246, 0.2);
        border-color: rgba(59, 130, 246, 0.5);
      }

      .next-message-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .btn-hint {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.4);
      }

      .demo-complete {
        padding: 16px 20px;
        border-radius: 16px;
        background-color: #18181b;
        border: 1px solid rgba(255, 255, 255, 0.1);
        text-align: center;
        color: rgba(255, 255, 255, 0.5);
        font-size: 14px;
      }

      /* ìš°ì¸¡ íŒ¨ë„ */
      .plan-panel {
        width: 0;
        background-color: #0f0f12;
        border-left: none;
        transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        overflow: hidden;
        flex-shrink: 0;
        display: flex;
        flex-direction: column;
      }

      .plan-panel.active {
        width: 520px;
        border-left: 1px solid rgba(255, 255, 255, 0.06);
      }

      .panel-header {
        padding: 20px 24px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .panel-title {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .panel-title span:first-child {
        font-size: 18px;
      }

      .panel-title span:last-child {
        font-size: 16px;
        font-weight: 600;
      }

      .panel-status {
        padding: 4px 10px;
        background-color: rgba(34, 197, 94, 0.15);
        border-radius: 4px;
        font-size: 11px;
        color: #4ade80;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .panel-status-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background-color: #4ade80;
        animation: pulse 2s infinite;
      }

      .panel-content {
        flex: 1;
        overflow-y: auto;
        padding: 20px;
      }

      .panel-footer {
        padding: 16px 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.06);
        display: none;
        gap: 10px;
      }

      .panel-footer.active {
        display: flex;
      }

      .panel-btn {
        flex: 1;
        padding: 12px;
        border-radius: 10px;
        font-size: 13px;
        font-weight: 500;
        cursor: pointer;
        font-family: inherit;
      }

      .panel-btn.secondary {
        border: 1px solid rgba(255, 255, 255, 0.1);
        background-color: transparent;
        color: rgba(255, 255, 255, 0.6);
      }

      .panel-btn.primary {
        border: none;
        background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        color: white;
        font-weight: 600;
      }

      /* íŒ¨ë„ ì„¹ì…˜ */
      .panel-section {
        margin-bottom: 20px;
        animation: slideInRight 0.4s ease;
        display: none;
      }

      .panel-section.active {
        display: block;
      }

      .section-title {
        font-size: 12px;
        font-weight: 600;
        color: rgba(255, 255, 255, 0.4);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 12px;
      }

      .section-title.highlight {
        color: #4ade80;
      }

      /* ê¸°ë³¸ ì •ë³´ ê·¸ë¦¬ë“œ */
      .info-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
      }

      .info-item {
        padding: 10px 12px;
        background-color: rgba(255, 255, 255, 0.03);
        border-radius: 8px;
      }

      .info-item.full-width {
        grid-column: 1 / -1;
      }

      .info-label {
        font-size: 11px;
        color: rgba(255, 255, 255, 0.4);
        margin-bottom: 4px;
      }

      .info-value {
        font-size: 13px;
        font-weight: 500;
        color: #fafafa;
      }

      .info-value.pending {
        color: rgba(255, 255, 255, 0.2);
      }

      .info-value.highlight {
        color: #4ade80;
      }

      /* í¬ì§€ì…˜ ì•„ì´í…œ */
      .position-list {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .position-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 12px 14px;
        background-color: rgba(59, 130, 246, 0.1);
        border: 1px solid rgba(59, 130, 246, 0.2);
        border-radius: 10px;
      }

      .position-left {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .position-icon {
        font-size: 16px;
      }

      .position-name {
        font-size: 13px;
        font-weight: 500;
      }

      .position-count {
        padding: 4px 10px;
        background-color: rgba(59, 130, 246, 0.2);
        border-radius: 4px;
        font-size: 12px;
        color: #93c5fd;
        font-weight: 600;
      }

      /* ì§„ë‹¨ ë°•ìŠ¤ */
      .diagnosis-box {
        padding: 14px;
        background-color: rgba(239, 68, 68, 0.08);
        border: 1px solid rgba(239, 68, 68, 0.15);
        border-radius: 10px;
        margin-bottom: 12px;
      }

      .diagnosis-header {
        font-size: 12px;
        font-weight: 600;
        color: #fca5a5;
        margin-bottom: 10px;
      }

      .diagnosis-content {
        font-size: 12px;
        line-height: 1.6;
        color: rgba(255, 255, 255, 0.7);
      }

      .diagnosis-content strong {
        color: #fafafa;
      }

      .diagnosis-content .sub {
        color: rgba(255, 255, 255, 0.5);
      }

      .diagnosis-item {
        margin-bottom: 8px;
      }

      .diagnosis-insight {
        padding: 12px 14px;
        background-color: rgba(34, 197, 94, 0.1);
        border-radius: 8px;
        font-size: 12px;
        color: #4ade80;
      }

      /* ì—­ëŸ‰ í…Œì´ë¸” */
      .competency-box {
        padding: 14px;
        background-color: rgba(255, 255, 255, 0.03);
        border-radius: 10px;
        margin-bottom: 12px;
      }

      .competency-header {
        font-size: 13px;
        font-weight: 600;
        margin-bottom: 12px;
      }

      .competency-header.dev {
        color: #93c5fd;
      }
      .competency-header.pm {
        color: #c4b5fd;
      }

      .competency-row {
        display: grid;
        grid-template-columns: 70px 80px 60px 1fr;
        gap: 8px;
        align-items: center;
        padding: 8px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        font-size: 11px;
      }

      .competency-row:last-child {
        border-bottom: none;
      }

      .comp-name {
        font-weight: 600;
        color: #fafafa;
      }

      .comp-method {
        color: rgba(255, 255, 255, 0.5);
      }

      .comp-criteria {
        color: #4ade80;
        font-weight: 600;
      }

      .comp-reason {
        color: rgba(255, 255, 255, 0.4);
        font-size: 10px;
      }

      /* í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš° */
      .process-flow {
        position: relative;
      }

      .process-line {
        position: absolute;
        left: 11px;
        top: 24px;
        bottom: 24px;
        width: 2px;
        background-color: rgba(255, 255, 255, 0.1);
      }

      .process-step {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 8px;
        position: relative;
      }

      .step-number {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        font-weight: 600;
        z-index: 1;
      }

      .step-number.new {
        background-color: #3b82f6;
      }

      .step-label {
        font-size: 13px;
        color: rgba(255, 255, 255, 0.6);
      }

      .step-label.new {
        color: #93c5fd;
      }

      .step-badge {
        margin-left: 6px;
        font-size: 10px;
        color: #4ade80;
      }

      /* íš¨ê³¼ ê·¸ë¦¬ë“œ */
      .effect-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        margin-bottom: 12px;
      }

      .effect-item {
        padding: 12px;
        background-color: rgba(255, 255, 255, 0.03);
        border-radius: 8px;
        text-align: center;
      }

      .effect-label {
        font-size: 11px;
        color: rgba(255, 255, 255, 0.4);
        margin-bottom: 8px;
      }

      .effect-values {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
      }

      .effect-before {
        font-size: 13px;
        color: #fca5a5;
        text-decoration: line-through;
      }

      .effect-arrow {
        color: rgba(255, 255, 255, 0.3);
      }

      .effect-after {
        font-size: 15px;
        font-weight: 700;
        color: #4ade80;
      }

      /* ì„¤ì • ë¦¬ìŠ¤íŠ¸ */
      .setting-list {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .setting-item {
        display: flex;
        align-items: flex-start;
        gap: 10px;
        padding: 10px 12px;
        background-color: rgba(255, 255, 255, 0.03);
        border-radius: 8px;
      }

      .setting-checkbox {
        width: 18px;
        height: 18px;
        border-radius: 4px;
        background-color: #3b82f6;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        color: white;
        flex-shrink: 0;
      }

      .setting-label {
        font-size: 13px;
        font-weight: 500;
        margin-bottom: 2px;
      }

      .setting-reason {
        font-size: 11px;
        color: rgba(255, 255, 255, 0.4);
      }

      /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
      .card {
        margin-top: 12px;
        padding: 20px;
        border-radius: 16px;
        animation: fadeInUp 0.4s ease;
      }

      .card.diagnosis {
        background-color: rgba(239, 68, 68, 0.08);
        border: 1px solid rgba(239, 68, 68, 0.2);
      }

      .card.proposal {
        background-color: rgba(59, 130, 246, 0.08);
        border: 1px solid rgba(59, 130, 246, 0.2);
      }

      .card.competency {
        background-color: rgba(139, 92, 246, 0.08);
        border: 1px solid rgba(139, 92, 246, 0.2);
      }

      .card.evidence {
        background-color: rgba(34, 197, 94, 0.08);
        border: 1px solid rgba(34, 197, 94, 0.2);
      }

      .card.summary {
        background-color: rgba(59, 130, 246, 0.08);
        border: 1px solid rgba(59, 130, 246, 0.2);
      }

      .card.tips {
        background-color: rgba(251, 191, 36, 0.08);
        border: 1px solid rgba(251, 191, 36, 0.2);
      }

      .card-header {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 16px;
      }

      .card-icon {
        font-size: 18px;
      }

      .card-title {
        font-size: 15px;
        font-weight: 600;
      }

      .card-title.red {
        color: #fca5a5;
      }
      .card-title.blue {
        color: #93c5fd;
      }
      .card-title.purple {
        color: #c4b5fd;
      }
      .card-title.green {
        color: #4ade80;
      }
      .card-title.yellow {
        color: #fcd34d;
      }

      .card-subtitle {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.5);
        margin-bottom: 20px;
      }

      /* ë©”íŠ¸ë¦­ ë°•ìŠ¤ */
      .metrics-box {
        padding: 16px;
        background-color: rgba(0, 0, 0, 0.3);
        border-radius: 12px;
        margin-bottom: 16px;
      }

      .metrics-label {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.5);
        margin-bottom: 12px;
      }

      .metrics-flow {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 13px;
        color: rgba(255, 255, 255, 0.7);
        flex-wrap: wrap;
      }

      .metrics-flow strong {
        color: #fafafa;
      }

      .metrics-flow .arrow {
        color: rgba(255, 255, 255, 0.3);
      }

      .metrics-stats {
        display: flex;
        gap: 16px;
        margin-top: 12px;
        font-size: 12px;
        color: rgba(255, 255, 255, 0.5);
      }

      .metrics-stats strong {
        color: #fca5a5;
      }

      /* Findings */
      .findings-section {
        margin-bottom: 16px;
      }

      .findings-label {
        font-size: 13px;
        font-weight: 600;
        color: #fafafa;
        margin-bottom: 12px;
      }

      .finding-item {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        background-color: rgba(255, 255, 255, 0.03);
        border-radius: 8px;
        margin-bottom: 6px;
        font-size: 13px;
      }

      .finding-item.highlight {
        background-color: rgba(34, 197, 94, 0.15);
      }

      .finding-key {
        color: rgba(255, 255, 255, 0.5);
        min-width: 60px;
      }

      .finding-value {
        color: #fafafa;
      }

      .finding-badge {
        padding: 2px 8px;
        background-color: rgba(251, 191, 36, 0.2);
        border-radius: 4px;
        font-size: 11px;
        color: #fbbf24;
        margin-left: auto;
      }

      /* Insight box */
      .insight-box {
        padding: 14px 16px;
        background-color: rgba(251, 191, 36, 0.1);
        border: 1px solid rgba(251, 191, 36, 0.2);
        border-radius: 10px;
        margin-bottom: 12px;
        font-size: 13px;
        line-height: 1.6;
        color: rgba(255, 255, 255, 0.8);
        white-space: pre-wrap;
      }

      .conclusion-box {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 12px 16px;
        background-color: rgba(239, 68, 68, 0.15);
        border-radius: 10px;
      }

      .conclusion-icon {
        font-size: 16px;
      }

      .conclusion-text {
        font-size: 14px;
        font-weight: 600;
        color: #fca5a5;
      }

      /* Comparison */
      .comparison-box {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .comparison-item {
        padding: 16px;
        border-radius: 12px;
      }

      .comparison-item.before {
        background-color: rgba(239, 68, 68, 0.08);
        border: 1px solid rgba(239, 68, 68, 0.15);
      }

      .comparison-item.after {
        background-color: rgba(34, 197, 94, 0.08);
        border: 1px solid rgba(34, 197, 94, 0.2);
      }

      .comparison-label {
        font-size: 12px;
        font-weight: 600;
        margin-bottom: 12px;
      }

      .comparison-label.before {
        color: #fca5a5;
      }
      .comparison-label.after {
        color: #4ade80;
      }

      .comparison-flow {
        display: flex;
        align-items: center;
        gap: 8px;
        flex-wrap: wrap;
        margin-bottom: 12px;
      }

      .flow-step {
        padding: 6px 12px;
        background-color: rgba(255, 255, 255, 0.05);
        border-radius: 6px;
        font-size: 13px;
      }

      .flow-step.highlight {
        background-color: rgba(34, 197, 94, 0.2);
        border: 1px solid rgba(34, 197, 94, 0.3);
        color: #4ade80;
      }

      .flow-arrow {
        color: rgba(255, 255, 255, 0.3);
      }

      .comparison-note {
        font-size: 12px;
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .comparison-note.before {
        color: #fca5a5;
      }
      .comparison-note.after {
        color: #4ade80;
      }

      /* Position competency */
      .position-competency {
        padding: 16px;
        background-color: rgba(0, 0, 0, 0.2);
        border-radius: 12px;
        margin-bottom: 16px;
      }

      .position-comp-header {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 12px;
        font-size: 14px;
        font-weight: 600;
      }

      .position-comp-note {
        font-size: 11px;
        color: rgba(255, 255, 255, 0.4);
      }

      .competency-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 10px 14px;
        background-color: rgba(139, 92, 246, 0.1);
        border-radius: 8px;
        margin-bottom: 8px;
      }

      .competency-item:last-child {
        margin-bottom: 0;
      }

      .comp-item-name {
        font-weight: 600;
        color: #c4b5fd;
        font-size: 13px;
        min-width: 80px;
      }

      .comp-item-desc {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.6);
      }

      .comp-note {
        padding: 14px 16px;
        background-color: rgba(34, 197, 94, 0.1);
        border: 1px solid rgba(34, 197, 94, 0.2);
        border-radius: 10px;
        font-size: 13px;
        line-height: 1.6;
        color: rgba(255, 255, 255, 0.8);
        white-space: pre-wrap;
      }

      /* Evidence case */
      .evidence-case {
        padding: 16px;
        background-color: rgba(0, 0, 0, 0.2);
        border-radius: 12px;
        margin-bottom: 16px;
      }

      .case-company {
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 4px;
      }

      .case-context {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.5);
        margin-bottom: 16px;
      }

      .case-metrics {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 16px;
      }

      .case-metric {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 10px 14px;
        background-color: rgba(255, 255, 255, 0.03);
        border-radius: 8px;
        font-size: 13px;
      }

      .case-metric-label {
        color: rgba(255, 255, 255, 0.6);
        flex: 1;
      }

      .case-metric-before {
        color: #fca5a5;
      }

      .case-metric-arrow {
        color: rgba(255, 255, 255, 0.3);
      }

      .case-metric-after {
        color: #4ade80;
        font-weight: 600;
      }

      .case-change {
        padding: 12px 14px;
        background-color: rgba(59, 130, 246, 0.1);
        border-radius: 8px;
        font-size: 12px;
        line-height: 1.5;
        color: rgba(255, 255, 255, 0.7);
        white-space: pre-wrap;
      }

      .case-change strong {
        color: #93c5fd;
      }

      /* Testimonial */
      .testimonial {
        padding: 16px;
        background-color: rgba(255, 255, 255, 0.03);
        border-left: 3px solid rgba(139, 92, 246, 0.5);
        border-radius: 0 12px 12px 0;
        margin-bottom: 20px;
      }

      .testimonial-quote {
        font-size: 13px;
        line-height: 1.6;
        color: rgba(255, 255, 255, 0.8);
        font-style: italic;
        margin-bottom: 8px;
      }

      .testimonial-source {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.5);
      }

      /* Prediction */
      .prediction-box {
        padding: 16px;
        background-color: rgba(34, 197, 94, 0.1);
        border: 1px solid rgba(34, 197, 94, 0.2);
        border-radius: 12px;
      }

      .prediction-title {
        font-size: 14px;
        font-weight: 600;
        color: #4ade80;
        margin-bottom: 16px;
      }

      .prediction-items {
        display: flex;
        gap: 12px;
        margin-bottom: 12px;
      }

      .prediction-item {
        flex: 1;
        padding: 14px;
        background-color: rgba(0, 0, 0, 0.2);
        border-radius: 10px;
        text-align: center;
      }

      .prediction-icon {
        font-size: 20px;
        margin-bottom: 8px;
      }

      .prediction-label {
        font-size: 11px;
        color: rgba(255, 255, 255, 0.5);
        margin-bottom: 4px;
      }

      .prediction-value {
        font-size: 16px;
        font-weight: 700;
        color: #4ade80;
      }

      .prediction-note {
        font-size: 11px;
        color: rgba(255, 255, 255, 0.4);
      }

      /* Summary changes */
      .summary-changes {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-bottom: 20px;
      }

      .summary-change {
        padding: 14px 16px;
        background-color: rgba(0, 0, 0, 0.2);
        border-radius: 12px;
      }

      .change-category {
        font-size: 13px;
        font-weight: 600;
        color: #93c5fd;
        margin-bottom: 10px;
      }

      .change-content {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        font-size: 13px;
      }

      .change-before {
        color: rgba(255, 255, 255, 0.5);
      }

      .change-before .tag {
        color: #fca5a5;
      }

      .change-arrow {
        color: rgba(255, 255, 255, 0.3);
      }

      .change-after {
        color: #fafafa;
        white-space: pre-wrap;
      }

      .change-after .tag {
        color: #4ade80;
      }

      /* Tips */
      .tips-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .tip-item {
        padding: 12px 14px;
        background-color: rgba(0, 0, 0, 0.2);
        border-radius: 10px;
        font-size: 13px;
        line-height: 1.6;
        color: rgba(255, 255, 255, 0.8);
        white-space: pre-wrap;
      }

      /* Confirm button */
      .confirm-btn {
        width: 100%;
        padding: 16px 24px;
        border-radius: 12px;
        border: none;
        background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        color: white;
        font-size: 15px;
        font-weight: 600;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        box-shadow: 0 4px 20px rgba(59, 130, 246, 0.3);
        font-family: inherit;
        margin-top: 16px;
      }

      .confirm-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 6px 24px rgba(59, 130, 246, 0.4);
      }
    </style>
  </head>
  <body>
    <div class="app-container">
      <!-- ì‚¬ì´ë“œë°” -->
      <div class="sidebar">
        <div class="sidebar-header">
          <div class="logo-container">
            <div class="logo-icon">H</div>
            <div>
              <div class="logo-text">ì±„ìš©ì—ì´ì „íŠ¸</div>
              <div class="logo-subtext">ì—­ëŸ‰ ì¤‘ì‹¬ ì±„ìš©</div>
            </div>
          </div>
        </div>
        <div class="sidebar-nav">
          <div class="nav-item active"><span>ğŸ’¬</span> ìƒˆ ëŒ€í™”</div>
          <div class="nav-item"><span>ğŸ“‹</span> ì§„í–‰ì¤‘ì¸ ì±„ìš©</div>
          <div class="nav-item"><span>ğŸ‘¥</span> ì¸ì¬í’€</div>
          <div class="nav-item"><span>ğŸ“Š</span> ë¶„ì„</div>
        </div>
        <div class="sidebar-footer">
          <div class="user-profile">
            <div class="user-avatar">ğŸ‘¤</div>
            <div>
              <div class="user-name">ê¹€ê°€ì˜¨</div>
              <div class="user-role">ì±„ìš©ë‹´ë‹¹ì</div>
            </div>
          </div>
        </div>
      </div>

      <!-- ë©”ì¸ ì½˜í…ì¸  -->
      <div class="main-content">
        <!-- íë ˆì´íŒ… ë°°ë„ˆ -->
        <div class="curation-banner" id="curationBanner">
          <div class="banner-left">
            <div class="status-dot"></div>
            <span class="banner-label">í”Œëœ ëª¨ë“œ í™œì„±í™”</span>
            <span class="banner-divider">|</span>
            <span class="banner-info">ê°œë°œì 2~3ëª…, ê¸°íšì 1ëª… ì±„ìš©</span>
          </div>
        </div>

        <!-- ì±„íŒ… ì˜ì—­ -->
        <div class="chat-container">
          <div class="chat-messages" id="chatMessages">
            <!-- ë©”ì‹œì§€ë“¤ì´ ì—¬ê¸°ì— ì¶”ê°€ë¨ -->
          </div>

          <!-- íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° -->
          <div class="typing-indicator" id="typingIndicator">
            <div class="assistant-avatar">ğŸ¤–</div>
            <div class="typing-dots">
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
            </div>
          </div>
        </div>

        <!-- ì…ë ¥ ì˜ì—­ -->
        <div class="input-area">
          <div class="input-wrapper">
            <button
              class="next-message-btn"
              id="nextMessageBtn"
              onclick="handleNextMessage()"
            >
              <span id="nextMessageText"
                >ğŸ’¬ "2026ë…„ 1ì›” 3ì£¼ë¶€í„° 2ê°œì›” ë™ì•ˆ ê¸°íšì, ê°œë°œì ìƒì‹œ ì±„ìš©í• 
                ê³„íšì´ì•¼"</span
              >
              <span class="btn-hint">í´ë¦­í•˜ì—¬ ì „ì†¡</span>
            </button>
            <div class="demo-complete" id="demoComplete" style="display: none">
              âœ… ë°ëª¨ ì‹œë‚˜ë¦¬ì˜¤ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤
            </div>
          </div>
        </div>
      </div>

      <!-- ìš°ì¸¡ íŒ¨ë„ -->
      <div class="plan-panel" id="planPanel">
        <div class="panel-header">
          <div class="panel-title">
            <span>ğŸ“‹</span>
            <span>ì±„ìš© ê³„íšì„œ</span>
          </div>
          <div class="panel-status">
            <div class="panel-status-dot"></div>
            ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì¤‘
          </div>
        </div>

        <div class="panel-content" id="panelContent">
          <!-- ê¸°ë³¸ ì •ë³´ -->
          <div class="panel-section" id="section-basic">
            <div class="section-title">ê¸°ë³¸ ì •ë³´</div>
            <div class="info-grid">
              <div class="info-item">
                <div class="info-label">ì±„ìš©í˜•íƒœ</div>
                <div class="info-value" id="info-type">ìˆ˜ì‹œ ì±„ìš©</div>
              </div>
              <div class="info-item">
                <div class="info-label">ê²½ë ¥ì¡°ê±´</div>
                <div class="info-value pending" id="info-career">â€”</div>
              </div>
              <div class="info-item full-width">
                <div class="info-label">ì±„ìš©ê¸°ê°„</div>
                <div class="info-value" id="info-period">
                  2026.01.3ì£¼ ~ 03.ì¤‘ìˆœ
                </div>
              </div>
              <div class="info-item full-width">
                <div class="info-label">ì±„ìš©ëª©ì </div>
                <div class="info-value pending" id="info-purpose">â€”</div>
              </div>
            </div>
          </div>

          <!-- ì±„ìš© í¬ì§€ì…˜ -->
          <div class="panel-section" id="section-positions">
            <div class="section-title">ì±„ìš© í¬ì§€ì…˜</div>
            <div class="position-list">
              <div class="position-item">
                <div class="position-left">
                  <span class="position-icon">ğŸ‘¨â€ğŸ’»</span>
                  <span class="position-name">ê°œë°œì</span>
                </div>
                <span class="position-count">2~3ëª…</span>
              </div>
              <div class="position-item">
                <div class="position-left">
                  <span class="position-icon">ğŸ“Š</span>
                  <span class="position-name">ê¸°íšì</span>
                </div>
                <span class="position-count">1ëª…</span>
              </div>
            </div>
          </div>

          <!-- ì±„ìš© í˜„í™© ì§„ë‹¨ -->
          <div class="panel-section" id="section-diagnosis">
            <div class="section-title highlight">ğŸ” ì±„ìš© í˜„í™© ì§„ë‹¨</div>
            <div class="diagnosis-box">
              <div class="diagnosis-header">âš ï¸ ë°œê²¬ëœ ì´ìŠˆ</div>
              <div class="diagnosis-content">
                <div class="diagnosis-item">
                  <strong>1. ê²½ë ¥ ì—°ì°¨ ê³¼ì˜ì¡´</strong><br />
                  <span class="sub"
                    >â†’ 2ë…„ ì´í•˜ ì¼ê´„ íƒˆë½, ê³ ì„±ê³¼ì 40%ê°€ 3ë…„ ë¯¸ë§Œ</span
                  >
                </div>
                <div class="diagnosis-item">
                  <strong>2. í•™ë ¥ê³¼ ì„±ê³¼ ë¬´ê´€</strong><br />
                  <span class="sub">â†’ ìƒê´€ê³„ìˆ˜ 0.12 (ë¬´ì˜ë¯¸)</span>
                </div>
                <div class="diagnosis-item">
                  <strong>3. ì—­ëŸ‰ ë¯¸ê²€ì¦</strong><br />
                  <span class="sub">â†’ ì¡°ê¸° ì´íƒˆì ê³µí†µ: í˜‘ì—…â†“, ì ì‘ë ¥â†“</span>
                </div>
              </div>
            </div>
            <div class="diagnosis-insight">
              ğŸ’¡ ê·¸ë˜ì„œ ì—­ëŸ‰ê²€ì‚¬ ì„ í–‰, ê²½ë ¥ ê¸°ì¤€ ì™„í™”, í•™ë ¥ ë¸”ë¼ì¸ë“œë¥¼
              ì œì•ˆë“œë ¤ìš”
            </div>
          </div>

          <!-- ì—­ëŸ‰ ìŠ¤í¬ë¦¬ë‹ ê¸°ì¤€ -->
          <div class="panel-section" id="section-competencies">
            <div class="section-title">ğŸ¯ ì—­ëŸ‰ ìŠ¤í¬ë¦¬ë‹ ê¸°ì¤€</div>

            <!-- ê°œë°œì -->
            <div class="competency-box">
              <div class="competency-header dev">ğŸ‘¨â€ğŸ’» ê°œë°œì</div>
              <div class="competency-row">
                <span class="comp-name">ë¬¸ì œí•´ê²°ë ¥</span>
                <span class="comp-method">H.ì—­ëŸ‰ê²€ì‚¬</span>
                <span class="comp-criteria">ìƒìœ„ 30%</span>
                <span class="comp-reason">ğŸ’¡ ê³ ì„±ê³¼ì í‰ê·  ìƒìœ„ 28%</span>
              </div>
              <div class="competency-row">
                <span class="comp-name">í•™ìŠµë¯¼ì²©ì„±</span>
                <span class="comp-method">H.ì—­ëŸ‰ê²€ì‚¬</span>
                <span class="comp-criteria">ìƒìœ„ 40%</span>
                <span class="comp-reason">ğŸ’¡ ì‹ ê·œì„œë¹„ìŠ¤=ìƒˆê¸°ìˆ  ìŠµë“ í•„ìˆ˜</span>
              </div>
              <div class="competency-row">
                <span class="comp-name">í˜‘ì—…ì—­ëŸ‰</span>
                <span class="comp-method">H.ì—­ëŸ‰ê²€ì‚¬</span>
                <span class="comp-criteria">ìƒìœ„ 50%</span>
                <span class="comp-reason">ğŸ’¡ ì¡°ê¸°ì´íƒˆì ê³µí†µ ì•½ì </span>
              </div>
              <div class="competency-row">
                <span class="comp-name">ê¸°ìˆ ì í•©ë„</span>
                <span class="comp-method">ì„œë¥˜ê²€í† </span>
                <span class="comp-criteria">2ê°œ+</span>
                <span class="comp-reason">ğŸ’¡ Python, AWS í•„ìˆ˜</span>
              </div>
            </div>

            <!-- ê¸°íšì -->
            <div class="competency-box">
              <div class="competency-header pm">ğŸ“Š ê¸°íšì</div>
              <div class="competency-row">
                <span class="comp-name">ë¶„ì„ì ì‚¬ê³ </span>
                <span class="comp-method">H.ì—­ëŸ‰ê²€ì‚¬</span>
                <span class="comp-criteria">ìƒìœ„ 25%</span>
                <span class="comp-reason">ğŸ’¡ ë°ì´í„° ì˜ì‚¬ê²°ì • í•„ìˆ˜</span>
              </div>
              <div class="competency-row">
                <span class="comp-name">ì»¤ë®¤ë‹ˆì¼€ì´ì…˜</span>
                <span class="comp-method">H.ì—­ëŸ‰ê²€ì‚¬</span>
                <span class="comp-criteria">ìƒìœ„ 35%</span>
                <span class="comp-reason">ğŸ’¡ ì´í•´ê´€ê³„ì ì„¤ë“ ë¹ˆë„â†‘</span>
              </div>
              <div class="competency-row">
                <span class="comp-name">ì‹¤í–‰ë ¥</span>
                <span class="comp-method">H.ì—­ëŸ‰ê²€ì‚¬</span>
                <span class="comp-criteria">ìƒìœ„ 40%</span>
                <span class="comp-reason">ğŸ’¡ 0â†’1 ê²½í—˜ì ìš°ëŒ€</span>
              </div>
            </div>
          </div>

          <!-- ì „í˜• í”„ë¡œì„¸ìŠ¤ -->
          <div class="panel-section" id="section-process">
            <div class="section-title">ğŸ”„ ì „í˜• í”„ë¡œì„¸ìŠ¤</div>
            <div class="process-flow">
              <div class="process-line"></div>
              <div class="process-step">
                <div class="step-number">1</div>
                <span class="step-label">ì§€ì›ì ‘ìˆ˜</span>
              </div>
              <div class="process-step">
                <div class="step-number new">2</div>
                <span class="step-label new"
                  >ì—­ëŸ‰ê²€ì‚¬ (ìë™ë°œì†¡)<span class="step-badge">NEW</span></span
                >
              </div>
              <div class="process-step">
                <div class="step-number new">3</div>
                <span class="step-label new"
                  >ìë™ ìŠ¤í¬ë¦¬ë‹<span class="step-badge">NEW</span></span
                >
              </div>
              <div class="process-step">
                <div class="step-number">4</div>
                <span class="step-label">ì„œë¥˜ê²€í†  (ì—­ëŸ‰ ê¸°ë°˜)</span>
              </div>
              <div class="process-step">
                <div class="step-number">5</div>
                <span class="step-label">1ì°¨ ë©´ì ‘</span>
              </div>
              <div class="process-step">
                <div class="step-number">6</div>
                <span class="step-label">ìµœì¢… ë©´ì ‘</span>
              </div>
              <div class="process-step">
                <div class="step-number">7</div>
                <span class="step-label">ìµœì¢… í•©ê²©</span>
              </div>
            </div>
          </div>

          <!-- ì˜ˆìƒ íš¨ê³¼ -->
          <div class="panel-section" id="section-effects">
            <div class="section-title highlight">ğŸ“ˆ ì˜ˆìƒ íš¨ê³¼</div>
            <div class="effect-grid">
              <div class="effect-item">
                <div class="effect-label">ì„œë¥˜ê²€í†  ëŒ€ìƒ</div>
                <div class="effect-values">
                  <span class="effect-before">100%</span>
                  <span class="effect-arrow">â†’</span>
                  <span class="effect-after">40%</span>
                </div>
              </div>
              <div class="effect-item">
                <div class="effect-label">ì„œë¥˜ê²€í†  ì‹œê°„</div>
                <div class="effect-values">
                  <span class="effect-before">10ì‹œê°„</span>
                  <span class="effect-arrow">â†’</span>
                  <span class="effect-after">4ì‹œê°„</span>
                </div>
              </div>
              <div class="effect-item">
                <div class="effect-label">ì í•©ì¸ì¬ ë°œêµ´ë¥ </div>
                <div class="effect-values">
                  <span class="effect-before">12%</span>
                  <span class="effect-arrow">â†’</span>
                  <span class="effect-after">25%</span>
                </div>
              </div>
              <div class="effect-item">
                <div class="effect-label">ì…ì‚¬í›„ ì¡°ê¸°ì´íƒˆ</div>
                <div class="effect-values">
                  <span class="effect-before">18%</span>
                  <span class="effect-arrow">â†’</span>
                  <span class="effect-after">7%</span>
                </div>
              </div>
            </div>
            <div class="diagnosis-insight">
              ğŸ’¡ ìŠ¤í™ ê¸°ì¤€ íƒˆë½ì ì¤‘ ì—­ëŸ‰ ìš°ìˆ˜ì 8ëª… â†’ ì´ë²ˆì—” ë©´ì ‘ ê¸°íšŒ ì œê³µ
            </div>
          </div>

          <!-- ì±„ìš© ì„¤ì • -->
          <div class="panel-section" id="section-settings">
            <div class="section-title">âš™ï¸ ì±„ìš© ì„¤ì •</div>
            <div class="setting-list">
              <div class="setting-item">
                <div class="setting-checkbox">âœ“</div>
                <div>
                  <div class="setting-label">ì¶œì‹ í•™êµ ë¸”ë¼ì¸ë“œ</div>
                  <div class="setting-reason">
                    ğŸ’¡ í•™ë ¥-ì„±ê³¼ ìƒê´€ì—†ìŒ (r=0.12)
                  </div>
                </div>
              </div>
              <div class="setting-item">
                <div class="setting-checkbox">âœ“</div>
                <div>
                  <div class="setting-label">ì‚¬ì§„ ë¸”ë¼ì¸ë“œ</div>
                  <div class="setting-reason">ğŸ’¡ ì™¸ëª¨ í¸í–¥ ì œê±°</div>
                </div>
              </div>
              <div class="setting-item">
                <div class="setting-checkbox">âœ“</div>
                <div>
                  <div class="setting-label">ì—­ëŸ‰ê²€ì‚¬ ìë™ ë°œì†¡</div>
                  <div class="setting-reason">ğŸ’¡ ì§€ì› ì§í›„ 24ì‹œê°„ ë‚´ ë°œì†¡</div>
                </div>
              </div>
              <div class="setting-item">
                <div class="setting-checkbox">âœ“</div>
                <div>
                  <div class="setting-label">ìë™ ìŠ¤í¬ë¦¬ë‹</div>
                  <div class="setting-reason">
                    ğŸ’¡ ì—­ëŸ‰ ê¸°ì¤€ ë¯¸ë‹¬ ì‹œ ìë™ ë¶„ë¥˜
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- íŒ¨ë„ í‘¸í„° -->
        <div class="panel-footer" id="panelFooter">
          <button class="panel-btn secondary">ìˆ˜ì •í•˜ê¸°</button>
          <button class="panel-btn primary">âœ¨ ì‹œì‘í•˜ê¸°</button>
        </div>
      </div>
    </div>

    <script>
      // ëŒ€í™” ì‹œë‚˜ë¦¬ì˜¤ ì •ì˜
      const scenario = [
        {
          type: "assistant",
          content:
            "ì•ˆë…•í•˜ì„¸ìš”! ì±„ìš© ê³„íšì„ í•¨ê»˜ ì„¸ì›Œë³¼ê²Œìš”.\n\nìƒˆë¡œìš´ ì±„ìš©ì„ ì¤€ë¹„ ì¤‘ì´ì‹œë¼ë©´, ì–´ë–¤ í¬ì§€ì…˜ì„ ë½‘ìœ¼ì‹¤ ê³„íšì¸ì§€ í¸í•˜ê²Œ ë§ì”€í•´ì£¼ì„¸ìš”.",
        },
        {
          type: "user",
          content:
            "2026ë…„ 1ì›” 3ì£¼ë¶€í„° 2ê°œì›” ë™ì•ˆ ê¸°íšì, ê°œë°œì ìƒì‹œ ì±„ìš©í•  ê³„íšì´ì•¼",
          nextUserMsg: "ê¸°íšì 1ëª…, ê°œë°œìëŠ” 2~3ëª…. ê²½ë ¥ì§ ìœ„ì£¼ë¡œ",
        },
        {
          type: "assistant",
          content:
            "ê¸°íšì, ê°œë°œì ì±„ìš©ì´ì‹œêµ°ìš”. 1ì›” 3ì£¼ ì‹œì‘í•´ì„œ 3ì›” ì¤‘ìˆœê¹Œì§€ë¡œ ì¡ì•„ë‘˜ê²Œìš”.\n\ní˜¹ì‹œ ê° í¬ì§€ì…˜ë³„ë¡œ ëª‡ ëª… ì •ë„ ìƒê°í•˜ê³  ê³„ì„¸ìš”?\nì‹ ì…/ê²½ë ¥ ì„ í˜¸ë„ ìˆìœ¼ì‹œë©´ ê°™ì´ ë§ì”€í•´ì£¼ì„¸ìš”.",
          panelUpdate: { sections: ["section-basic", "section-positions"] },
        },
        {
          type: "user",
          content: "ê¸°íšì 1ëª…, ê°œë°œìëŠ” 2~3ëª…. ê²½ë ¥ì§ ìœ„ì£¼ë¡œ",
          nextUserMsg: "ì‹ ê·œ ì„œë¹„ìŠ¤ ë¡ ì¹­ ë•Œë¬¸ì— íŒ€ í™•ì¥í•˜ëŠ” ê±°ì•¼",
        },
        {
          type: "assistant",
          content:
            "ë„¤, ê²½ë ¥ì§ ì¤‘ì‹¬ìœ¼ë¡œ ê¸°íšì 1ëª…, ê°œë°œì 2~3ëª…ì´ìš”.\n\nì´ë²ˆ ì±„ìš©ì´ ê¸°ì¡´ ì¸ì› ì¶©ì›ì¸ê°€ìš”, ì•„ë‹ˆë©´ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ ë•Œë¬¸ì¸ê°€ìš”?\nâ†’ ì–´ë–¤ 'ì—­ëŸ‰'ì´ ì¤‘ìš”í•œì§€ íŒŒì•…í•˜ëŠ” ë° ë„ì›€ì´ ë¼ì„œìš”.",
          panelUpdate: { infoCareer: "ê²½ë ¥ì§ ì¤‘ì‹¬" },
        },
        {
          type: "user",
          content: "ì‹ ê·œ ì„œë¹„ìŠ¤ ë¡ ì¹­ ë•Œë¬¸ì— íŒ€ í™•ì¥í•˜ëŠ” ê±°ì•¼",
          nextUserMsg: "ìŒ... ê²½ë ¥ ì—°ì°¨ë‘ í•™ë ¥? ê·¸ë¦¬ê³  ì´ì „ íšŒì‚¬ ë³´ëŠ” í¸ì´ì•¼",
        },
        {
          type: "assistant",
          content:
            'ì‹ ê·œ ì„œë¹„ìŠ¤ ë¡ ì¹­ì´ì‹œêµ¬ë‚˜ìš”.\nê·¸ëŸ¬ë©´ "0ì—ì„œ 1ì„ ë§Œë“¤ì–´ë³¸ ê²½í—˜"ì´ í•µì‹¬ ì—­ëŸ‰ì´ ë˜ê² ë„¤ìš”.\n\ní•œ ê°€ì§€ ì—¬ì­¤ë³¼ê²Œìš”.\nê°œë°œìë¶„ë“¤ ë½‘ìœ¼ì‹¤ ë•Œ ë³´í†µ ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ ì„œë¥˜ ê²€í† í•˜ì„¸ìš”?',
          panelUpdate: { infoPurpose: "ì‹ ê·œ ì„œë¹„ìŠ¤ íŒ€ í™•ì¥" },
        },
        {
          type: "user",
          content: "ìŒ... ê²½ë ¥ ì—°ì°¨ë‘ í•™ë ¥? ê·¸ë¦¬ê³  ì´ì „ íšŒì‚¬ ë³´ëŠ” í¸ì´ì•¼",
          nextUserMsg: "í— ê·¸ë˜? ê·¸ëŸ¼ ì–´ë–»ê²Œ í•´ì•¼ ë¼?",
        },
        {
          type: "assistant",
          content:
            "ì†”ì§í•˜ê²Œ ë§ì”€í•´ì£¼ì…”ì„œ ê°ì‚¬í•´ìš”.\nì‚¬ì‹¤ ë§ì€ ë¶„ë“¤ì´ ê·¸ë ‡ê²Œ í•˜ì‹œëŠ”ë°, í•œë²ˆ ê°™ì´ ì‚´í´ë³¼ ê²Œ ìˆì–´ìš”.",
          isPlanModeStart: true,
        },
        {
          type: "assistant",
          content: null,
          cardType: "diagnosis",
        },
        {
          type: "user",
          content: "í— ê·¸ë˜? ê·¸ëŸ¼ ì–´ë–»ê²Œ í•´ì•¼ ë¼?",
          nextUserMsg: "ì˜¤... ê·¼ë° ì´ë ‡ê²Œ í•˜ë©´ ì‹¤ì œë¡œ íš¨ê³¼ê°€ ìˆì–´?",
        },
        {
          type: "assistant",
          content: null,
          cardType: "proposal",
          panelUpdate: { sections: ["section-diagnosis"] },
        },
        {
          type: "assistant",
          content: null,
          cardType: "competency",
          panelUpdate: {
            sections: ["section-competencies", "section-process"],
            infoCareer: "ê²½ë ¥ 1ë…„ ì´ìƒ (ì™„í™”)",
            careerHighlight: true,
          },
        },
        {
          type: "user",
          content: "ì˜¤... ê·¼ë° ì´ë ‡ê²Œ í•˜ë©´ ì‹¤ì œë¡œ íš¨ê³¼ê°€ ìˆì–´?",
          nextUserMsg: "ì¢‹ì•„. ì´ ë°©ì‹ìœ¼ë¡œ í•´ë³´ì",
        },
        {
          type: "assistant",
          content: null,
          cardType: "evidence",
          panelUpdate: { sections: ["section-effects"] },
        },
        {
          type: "user",
          content: "ì¢‹ì•„. ì´ ë°©ì‹ìœ¼ë¡œ í•´ë³´ì",
          nextUserMsg: null,
        },
        {
          type: "assistant",
          content:
            "ì¢‹ì•„ìš”! ì§€ê¸ˆê¹Œì§€ ë‚˜ëˆˆ ë‚´ìš©ìœ¼ë¡œ ì±„ìš© ê³„íšì„œë¥¼ ë§Œë“¤ì—ˆì–´ìš”.\nìš°ì¸¡ íŒ¨ë„ì—ì„œ í™•ì¸í•´ë³´ì„¸ìš”.",
          panelUpdate: { sections: ["section-settings"], showFooter: true },
        },
        {
          type: "assistant",
          content: null,
          cardType: "summary",
        },
      ];

      // ì¹´ë“œ HTML í…œí”Œë¦¿
      const cardTemplates = {
        diagnosis: `
        <div class="card diagnosis">
          <div class="card-header">
            <span class="card-icon">ğŸ“Š</span>
            <span class="card-title red">ê³¼ê±° ì±„ìš© ë°ì´í„°ë¥¼ ë¶„ì„í•´ë´¤ì–´ìš”</span>
          </div>
          <div class="metrics-box">
            <div class="metrics-label">ì‘ë…„ 9ì›” ê°œë°œì ì±„ìš© ê²°ê³¼</div>
            <div class="metrics-flow">
              <span>ì§€ì›ì <strong>82ëª…</strong></span>
              <span class="arrow">â†’</span>
              <span>ì„œë¥˜ í†µê³¼ <strong>10ëª…</strong></span>
              <span class="arrow">â†’</span>
              <span>í•©ê²© <strong>2ëª…</strong></span>
            </div>
            <div class="metrics-stats">
              <span>ì„œë¥˜ í†µê³¼ìœ¨ <strong>12%</strong></span>
              <span>ìµœì¢… í•©ê²©ë¥  <strong>2.4%</strong></span>
            </div>
          </div>
          <div class="findings-section">
            <div class="findings-label">ê·¸ëŸ°ë° í¥ë¯¸ë¡œìš´ ì ì´ ìˆì–´ìš”</div>
            <div style="font-size: 12px; color: rgba(255,255,255,0.5); margin-bottom: 8px;">í•©ê²©í•œ 2ëª…ì˜ ê³µí†µì </div>
            <div class="finding-item">
              <span class="finding-key">í•™ë ¥</span>
              <span class="finding-value">1ëª… 4ë…„ì œ, 1ëª… ì „ë¬¸ëŒ€</span>
              <span class="finding-badge">í•™ë ¥ ë¬´ê´€</span>
            </div>
            <div class="finding-item">
              <span class="finding-key">ê²½ë ¥</span>
              <span class="finding-value">2ë…„, 4ë…„</span>
              <span class="finding-badge">ì—°ì°¨ ë¬´ê´€</span>
            </div>
            <div class="finding-item highlight">
              <span class="finding-key">ê³µí†µ ì—­ëŸ‰</span>
              <span class="finding-value">ë¬¸ì œí•´ê²°ë ¥ ìƒìœ„ 15%, í˜‘ì—… ì—­ëŸ‰ ìƒìœ„ 20%</span>
            </div>
          </div>
          <div class="insight-box">ì„œë¥˜ì—ì„œ íƒˆë½í•œ 72ëª… ì¤‘
ì—­ëŸ‰ê²€ì‚¬ ê¸°ì¤€ìœ¼ë¡œ ë³´ë©´ "í•©ê²©ìì™€ ë¹„ìŠ·í•œ ì—­ëŸ‰"ì„ ê°€ì§„ ë¶„ì´
ìµœì†Œ 8ëª…ì€ ìˆì—ˆì„ ê±°ì˜ˆìš”.</div>
          <div class="conclusion-box">
            <span class="conclusion-icon">ğŸ’¡</span>
            <span class="conclusion-text">ì¦‰, ìŠ¤í™ ê¸°ì¤€ìœ¼ë¡œ ì¢‹ì€ ì‚¬ëŒì„ ë†“ì³¤ì„ ê°€ëŠ¥ì„±ì´ ìˆì–´ìš”.</span>
          </div>
        </div>
      `,
        proposal: `
        <div class="card proposal">
          <div class="card-header">
            <span class="card-icon">ğŸ”„</span>
            <span class="card-title blue">ì´ë²ˆ ì±„ìš©ì—ì„œ í•œ ê°€ì§€ ì‹¤í—˜ì„ ì œì•ˆë“œë ¤ìš”</span>
          </div>
          <div class="comparison-box">
            <div class="comparison-item before">
              <div class="comparison-label before">[ê¸°ì¡´]</div>
              <div class="comparison-flow">
                <span class="flow-step">ì§€ì›</span>
                <span class="flow-arrow">â†’</span>
                <span class="flow-step">ì„œë¥˜(ìŠ¤í™)</span>
                <span class="flow-arrow">â†’</span>
                <span class="flow-step">ë©´ì ‘</span>
                <span class="flow-arrow">â†’</span>
                <span class="flow-step">í•©ê²©</span>
              </div>
              <div class="comparison-note before">â†“ 72ëª… íƒˆë½ (ì¢‹ì€ ì¸ì¬ í¬í•¨ ê°€ëŠ¥ì„±)</div>
            </div>
            <div class="comparison-item after">
              <div class="comparison-label after">[ì œì•ˆ]</div>
              <div class="comparison-flow">
                <span class="flow-step">ì§€ì›</span>
                <span class="flow-arrow">â†’</span>
                <span class="flow-step highlight">ì—­ëŸ‰ê²€ì‚¬ â­</span>
                <span class="flow-arrow">â†’</span>
                <span class="flow-step">ì„œë¥˜(ì—­ëŸ‰ ê¸°ë°˜)</span>
                <span class="flow-arrow">â†’</span>
                <span class="flow-step">ë©´ì ‘</span>
                <span class="flow-arrow">â†’</span>
                <span class="flow-step">í•©ê²©</span>
              </div>
              <div class="comparison-note after">â†’ ìŠ¤í™ì— ê°€ë ¤ì§„ ì¸ì¬ ë°œêµ´</div>
            </div>
          </div>
        </div>
      `,
        competency: `
        <div class="card competency">
          <div class="card-header">
            <span class="card-icon">ğŸ¯</span>
            <span class="card-title purple">ì´ë²ˆ ì±„ìš©ì— ì ìš©í•˜ë©´?</span>
          </div>
          <div class="position-competency">
            <div class="position-comp-header">
              <span>ğŸ‘¨â€ğŸ’»</span>
              <span>ê°œë°œì í¬ì§€ì…˜ í•µì‹¬ ì—­ëŸ‰</span>
              <span class="position-comp-note">(ì‹ ê·œ ì„œë¹„ìŠ¤ ê¸°ì¤€)</span>
            </div>
            <div class="competency-item">
              <span class="comp-item-name">ë¬¸ì œí•´ê²°ë ¥</span>
              <span class="comp-item-desc">â€” ì •ì˜ë˜ì§€ ì•Šì€ ë¬¸ì œë¥¼ ìŠ¤ìŠ¤ë¡œ êµ¬ì¡°í™”</span>
            </div>
            <div class="competency-item">
              <span class="comp-item-name">í•™ìŠµë¯¼ì²©ì„±</span>
              <span class="comp-item-desc">â€” ìƒˆë¡œìš´ ê¸°ìˆ  ìŠ¤íƒ ë¹ ë¥´ê²Œ ìŠµë“</span>
            </div>
            <div class="competency-item">
              <span class="comp-item-name">í˜‘ì—… ì—­ëŸ‰</span>
              <span class="comp-item-desc">â€” ê¸°íš/ë””ìì¸ê³¼ ê¸´ë°€í•œ ì†Œí†µ</span>
            </div>
          </div>
          <div class="position-competency">
            <div class="position-comp-header">
              <span>ğŸ“Š</span>
              <span>ê¸°íšì í¬ì§€ì…˜ í•µì‹¬ ì—­ëŸ‰</span>
            </div>
            <div class="competency-item">
              <span class="comp-item-name">ë¶„ì„ì  ì‚¬ê³ </span>
              <span class="comp-item-desc">â€” ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •</span>
            </div>
            <div class="competency-item">
              <span class="comp-item-name">ì»¤ë®¤ë‹ˆì¼€ì´ì…˜</span>
              <span class="comp-item-desc">â€” ì´í•´ê´€ê³„ì ì„¤ë“ ë° ì¡°ìœ¨</span>
            </div>
            <div class="competency-item">
              <span class="comp-item-name">ì‹¤í–‰ë ¥</span>
              <span class="comp-item-desc">â€” ë¶ˆí™•ì‹¤í•œ ìƒí™©ì—ì„œ ë¹ ë¥¸ ì‹¤í–‰</span>
            </div>
          </div>
          <div class="comp-note">ğŸ’¡ ì´ ì—­ëŸ‰ë“¤ì„ 1ì°¨ ìŠ¤í¬ë¦¬ë‹ ê¸°ì¤€ìœ¼ë¡œ ì“°ë©´,
"ê²½ë ¥ 2ë…„ì´ì§€ë§Œ ì—­ëŸ‰ ë›°ì–´ë‚œ ì‚¬ëŒ"ë„ ë©´ì ‘ê¹Œì§€ ì˜¬ë¼ì™€ìš”.</div>
        </div>
      `,
        evidence: `
        <div class="card evidence">
          <div class="card-header">
            <span class="card-icon">ğŸ“ˆ</span>
            <span class="card-title green">ì—­ëŸ‰ ì¤‘ì‹¬ ì±„ìš© ë„ì… íš¨ê³¼</span>
          </div>
          <div class="card-subtitle">ì‹¤ì œ ì‚¬ë¡€</div>
          <div class="evidence-case">
            <div class="case-company">Bì‚¬</div>
            <div class="case-context">ê°œë°œì ì±„ìš© (2025ë…„ ìƒë°˜ê¸°)</div>
            <div class="case-metrics">
              <div class="case-metric">
                <span class="case-metric-label">ì„œë¥˜ í†µê³¼ìœ¨</span>
                <span class="case-metric-before">15%</span>
                <span class="case-metric-arrow">â†’</span>
                <span class="case-metric-after">28%</span>
              </div>
              <div class="case-metric">
                <span class="case-metric-label">ì…ì‚¬ í›„ 3ê°œì›” ì´íƒˆë¥ </span>
                <span class="case-metric-before">18%</span>
                <span class="case-metric-arrow">â†’</span>
                <span class="case-metric-after">6%</span>
              </div>
              <div class="case-metric">
                <span class="case-metric-label">ì±„ìš© ì†Œìš” ê¸°ê°„</span>
                <span class="case-metric-before">52ì¼</span>
                <span class="case-metric-arrow">â†’</span>
                <span class="case-metric-after">38ì¼</span>
              </div>
            </div>
            <div class="case-change"><strong>í•µì‹¬ ë³€í™”:</strong> "í•™ë ¥/ê²½ë ¥ ê¸°ì¤€"ì—ì„œ "ì—­ëŸ‰ê²€ì‚¬ + í¬íŠ¸í´ë¦¬ì˜¤ ê¸°ì¤€"ìœ¼ë¡œ ì „í™˜
â†’ ì§€ì›ì í’€ ë‹¤ì–‘í™”, ì‹¤ì œ ì—…ë¬´ ì í•©ë„ í–¥ìƒ</div>
          </div>
          <div class="testimonial">
            <div class="testimonial-quote">"ì±„ìš© ë‹´ë‹¹ìê°€ ì„œë¥˜ ë³´ëŠ” ì‹œê°„ì´ ì ˆë°˜ìœ¼ë¡œ ì¤„ì—ˆì–´ìš”. ì—­ëŸ‰ê²€ì‚¬ ê²°ê³¼ë¡œ 1ì°¨ í•„í„°ë§í•˜ë‹ˆê¹Œ 'ë´ì•¼ í•  ì‚¬ëŒ'ë§Œ ì§‘ì¤‘í•´ì„œ ë³¼ ìˆ˜ ìˆë”ë¼ê³ ìš”."</div>
            <div class="testimonial-source">â€” Cì‚¬ ì¸ì‚¬íŒ€ì¥</div>
          </div>
          <div class="prediction-box">
            <div class="prediction-title">ğŸ¯ ê·€ì‚¬ì— ì ìš© ì‹œ ì˜ˆìƒ íš¨ê³¼</div>
            <div class="prediction-items">
              <div class="prediction-item">
                <div class="prediction-icon">â±ï¸</div>
                <div class="prediction-label">ì„œë¥˜ ê²€í†  ì‹œê°„</div>
                <div class="prediction-value">50% ë‹¨ì¶•</div>
              </div>
              <div class="prediction-item">
                <div class="prediction-icon">ğŸ¯</div>
                <div class="prediction-label">ì í•© ì¸ì¬ ë°œêµ´ë¥ </div>
                <div class="prediction-value">2ë°° í–¥ìƒ</div>
              </div>
              <div class="prediction-item">
                <div class="prediction-icon">ğŸ“‰</div>
                <div class="prediction-label">ì…ì‚¬ í›„ ì¡°ê¸° ì´íƒˆ</div>
                <div class="prediction-value">60% ê°ì†Œ</div>
              </div>
            </div>
            <div class="prediction-note">* ê³¼ê±° ë°ì´í„° + ì—…ê³„ í‰ê·  ê¸°ë°˜ ì¶”ì •ì¹˜ì˜ˆìš”. ì‹¤ì œ ê²°ê³¼ëŠ” ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì–´ìš”.</div>
          </div>
        </div>
      `,
        summary: `
        <div class="card summary" style="margin-bottom: 12px;">
          <div class="card-header">
            <span class="card-icon">âœ…</span>
            <span class="card-title blue">ì´ë²ˆ ì±„ìš©ì—ì„œ ë‹¬ë¼ì§€ëŠ” ê²ƒ</span>
          </div>
          <div class="summary-changes">
            <div class="summary-change">
              <div class="change-category">1. ì „í˜• ìˆœì„œ ë³€ê²½</div>
              <div class="change-content">
                <div class="change-before"><span class="tag">[ê¸°ì¡´]</span> ì„œë¥˜ â†’ ë©´ì ‘</div>
                <span class="change-arrow">â†’</span>
                <div class="change-after"><span class="tag">[ë³€ê²½]</span> ì—­ëŸ‰ê²€ì‚¬ â†’ ì„œë¥˜ â†’ ë©´ì ‘</div>
              </div>
            </div>
            <div class="summary-change">
              <div class="change-category">2. ì„œë¥˜ í‰ê°€ ê¸°ì¤€ ë³€ê²½</div>
              <div class="change-content">
                <div class="change-before"><span class="tag">[ê¸°ì¡´]</span> í•™ë ¥, ê²½ë ¥ ì—°ì°¨, ì´ì „ íšŒì‚¬</div>
                <span class="change-arrow">â†’</span>
                <div class="change-after"><span class="tag">[ë³€ê²½]</span> ì—­ëŸ‰ê²€ì‚¬ ê²°ê³¼ + í”„ë¡œì íŠ¸ ê²½í—˜ + ê¸°ìˆ ìŠ¤íƒ ì í•©ë„</div>
              </div>
            </div>
            <div class="summary-change">
              <div class="change-category">3. ë¸”ë¼ì¸ë“œ ì˜µì…˜ ì ìš©</div>
              <div class="change-content">
                <div class="change-after"><span class="tag">[ë³€ê²½]</span> ì¶œì‹ í•™êµ, ì‚¬ì§„ ë¸”ë¼ì¸ë“œ ON
â†’ ì—­ëŸ‰ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆëŠ” í™˜ê²½</div>
              </div>
            </div>
          </div>
        </div>
        <div class="card tips">
          <div class="card-header">
            <span class="card-icon">ğŸ’¡</span>
            <span class="card-title yellow">ì¶”ê°€ ì œì•ˆ</span>
          </div>
          <div class="tips-list">
            <div class="tip-item">â€¢ ê³µê³ ì— "ì—­ëŸ‰ ì¤‘ì‹¬ ì±„ìš©" ë¬¸êµ¬ë¥¼ ë„£ìœ¼ë©´ ì§€ì›ìë“¤ë„ 'ìŠ¤í™ë³´ë‹¤ ì‹¤ë ¥ìœ¼ë¡œ í‰ê°€ë°›ê² êµ¬ë‚˜' ê¸°ëŒ€í•˜ê³  ì§€ì›í•´ìš”.
â†’ ë‹¤ì–‘í•œ ë°°ê²½ì˜ ìš°ìˆ˜ ì¸ì¬ ìœ ì… íš¨ê³¼</div>
            <div class="tip-item">â€¢ ì—­ëŸ‰ê²€ì‚¬ëŠ” ì§€ì› ì§í›„ ìë™ ë°œì†¡ë˜ë„ë¡ ì„¤ì •í• ê²Œìš”. ì‘ì‹œ ì™„ë£Œëœ ë¶„ë“¤ë§Œ ì„œë¥˜ ê²€í†  ëŒ€ìƒì´ ë¼ì„œ íš¨ìœ¨ì ì´ì—ìš”.</div>
          </div>
        </div>
        <button class="confirm-btn">
          <span>âœ¨</span>
          <span>ì´ëŒ€ë¡œ ì‹œì‘í•˜ê¸°</span>
          <span>â†’</span>
        </button>
      `,
      };

      // ìƒíƒœ ê´€ë¦¬
      let currentIndex = 0;
      let isTyping = false;

      // DOM ìš”ì†Œ
      const chatMessages = document.getElementById("chatMessages");
      const typingIndicator = document.getElementById("typingIndicator");
      const nextMessageBtn = document.getElementById("nextMessageBtn");
      const nextMessageText = document.getElementById("nextMessageText");
      const demoComplete = document.getElementById("demoComplete");
      const curationBanner = document.getElementById("curationBanner");
      const planPanel = document.getElementById("planPanel");
      const panelFooter = document.getElementById("panelFooter");

      // ì´ˆê¸°í™”
      function init() {
        // ì²« assistant ë©”ì‹œì§€ í‘œì‹œ
        addMessage(scenario[0]);
        currentIndex = 1;
        updateNextButton();
      }

      // ë©”ì‹œì§€ ì¶”ê°€
      function addMessage(msg) {
        const messageEl = document.createElement("div");
        messageEl.className = `message ${msg.type}`;

        if (msg.type === "user") {
          messageEl.innerHTML = `<div class="user-bubble">${msg.content}</div>`;
        } else {
          let contentHtml = "";

          if (msg.isPlanModeStart) {
            contentHtml += `
            <div class="plan-mode-badge">
              <span>âœ¨</span>
              <span>í”Œëœ ëª¨ë“œ ì‹œì‘</span>
            </div>
          `;
          }

          if (msg.content) {
            contentHtml += `<div class="assistant-bubble">${msg.content}</div>`;
          }

          if (msg.cardType && cardTemplates[msg.cardType]) {
            contentHtml += cardTemplates[msg.cardType];
          }

          messageEl.innerHTML = `
          <div class="assistant-avatar">ğŸ¤–</div>
          <div class="message-content">${contentHtml}</div>
        `;
        }

        chatMessages.appendChild(messageEl);
        scrollToBottom();

        // íŒ¨ë„ ì—…ë°ì´íŠ¸
        if (msg.panelUpdate) {
          updatePanel(msg.panelUpdate);
        }

        // í”Œëœ ëª¨ë“œ ì‹œì‘
        if (msg.isPlanModeStart) {
          curationBanner.classList.add("active");
          planPanel.classList.add("active");
        }
      }

      // íŒ¨ë„ ì—…ë°ì´íŠ¸
      function updatePanel(update) {
        if (update.sections) {
          update.sections.forEach((sectionId) => {
            const section = document.getElementById(sectionId);
            if (section) {
              section.classList.add("active");
            }
          });
        }

        if (update.infoCareer) {
          const infoCareer = document.getElementById("info-career");
          infoCareer.textContent = update.infoCareer;
          infoCareer.classList.remove("pending");
          if (update.careerHighlight) {
            infoCareer.classList.add("highlight");
          }
        }

        if (update.infoPurpose) {
          const infoPurpose = document.getElementById("info-purpose");
          infoPurpose.textContent = update.infoPurpose;
          infoPurpose.classList.remove("pending");
        }

        if (update.showFooter) {
          panelFooter.classList.add("active");
        }
      }

      // ë‹¤ìŒ ë²„íŠ¼ ì—…ë°ì´íŠ¸
      function updateNextButton() {
        if (currentIndex >= scenario.length) {
          nextMessageBtn.style.display = "none";
          demoComplete.style.display = "block";
          return;
        }

        // ë‹¤ìŒ user ë©”ì‹œì§€ ì°¾ê¸°
        let nextUserIndex = currentIndex;
        while (
          nextUserIndex < scenario.length &&
          scenario[nextUserIndex].type !== "user"
        ) {
          nextUserIndex++;
        }

        if (nextUserIndex < scenario.length) {
          nextMessageText.textContent = `ğŸ’¬ "${scenario[nextUserIndex].content}"`;
          nextMessageBtn.style.display = "flex";
          demoComplete.style.display = "none";
        } else {
          nextMessageBtn.style.display = "none";
          demoComplete.style.display = "block";
        }
      }

      // íƒ€ì´í•‘ í‘œì‹œ
      function showTyping() {
        typingIndicator.classList.add("active");
        scrollToBottom();
      }

      function hideTyping() {
        typingIndicator.classList.remove("active");
      }

      // ìŠ¤í¬ë¡¤
      function scrollToBottom() {
        const container = document.querySelector(".chat-container");
        container.scrollTop = container.scrollHeight;
      }

      // ë‹¤ìŒ ë©”ì‹œì§€ ì²˜ë¦¬
      function handleNextMessage() {
        if (isTyping || currentIndex >= scenario.length) return;

        const currentMsg = scenario[currentIndex];

        // user ë©”ì‹œì§€ì¸ ê²½ìš°
        if (currentMsg.type === "user") {
          addMessage(currentMsg);
          currentIndex++;

          // ë‹¤ìŒ assistant ë©”ì‹œì§€ë“¤ ìë™ ì¬ìƒ
          isTyping = true;
          nextMessageBtn.disabled = true;
          playAssistantMessages();
        }
      }

      // assistant ë©”ì‹œì§€ ì—°ì† ì¬ìƒ
      function playAssistantMessages() {
        if (currentIndex >= scenario.length) {
          isTyping = false;
          nextMessageBtn.disabled = false;
          updateNextButton();
          return;
        }

        const msg = scenario[currentIndex];

        if (msg.type !== "assistant") {
          isTyping = false;
          nextMessageBtn.disabled = false;
          updateNextButton();
          return;
        }

        showTyping();

        setTimeout(() => {
          hideTyping();
          addMessage(msg);
          currentIndex++;

          // ë‹¤ìŒ ë©”ì‹œì§€ë„ assistantë©´ ê³„ì†
          if (
            currentIndex < scenario.length &&
            scenario[currentIndex].type === "assistant"
          ) {
            setTimeout(playAssistantMessages, 600);
          } else {
            isTyping = false;
            nextMessageBtn.disabled = false;
            updateNextButton();
          }
        }, 1200);
      }

      // ì‹œì‘
      init();
    </script>
  </body>
</html>
